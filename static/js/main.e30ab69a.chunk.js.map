{"version":3,"sources":["components/Error.js","components/Formulario.js","components/Imagen.js","components/ListadoImagenes.js","App.js","index.js"],"names":["Error","mensaje","className","Formulario","guardarBusqueda","useState","termino","guardarTermino","error","guardarError","onSubmit","e","preventDefault","trim","type","placeholder","onChange","target","value","Imagen","imagen","largeImageURL","likes","previewURL","tags","views","src","alt","href","rel","ListadoImagenes","imagenes","map","key","id","App","busqueda","guardarImagenes","paginaActual","guardarPaginaActual","totalPaginas","guardarTotalPaginas","useEffect","a","imagenesPorPagina","URL","fetch","respuesta","json","resultado","console","log","hits","TotalPaginas","Math","ceil","totalHits","document","querySelector","scrollIntoView","behavior","consultarAPI","onClick","nuevaPaginaActual","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e30ab69a.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Error = ({ mensaje }) => {\r\n  return (\r\n    <p className=\"my-3 p-4 text-center alert alert-danger\">\r\n      {mensaje}\r\n    </p>\r\n  );\r\n};\r\n\r\nexport default Error;\r\n","import React, { useState } from \"react\";\r\nimport Error from './Error'\r\n\r\nconst Formulario = ({guardarBusqueda}) => {\r\n  const [termino, guardarTermino] = useState(\"\");\r\n  const [error, guardarError] = useState(false);\r\n\r\n  const buscarImagenes = (e) => {\r\n    e.preventDefault();\r\n\r\n    //validar\r\n    if (termino.trim() === \"\") {\r\n      guardarError(true);\r\n      return;\r\n    }\r\n    guardarError(false)\r\n\r\n    //enviar el termino de busqueda hacia el componente principal\r\n    guardarBusqueda(termino)\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={buscarImagenes}>\r\n      <div className=\"row\">\r\n        <div className=\"form-group col-md-8\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control form-control-lg\"\r\n            placeholder=\"Busca una imagen...\"\r\n            onChange={(e) => guardarTermino(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group col-md-4\">\r\n          <input\r\n            type=\"submit\"\r\n            className=\"btn btn-lg btn-success btn-block\"\r\n            value=\"Buscar\"\r\n          />\r\n        </div>\r\n      </div>\r\n      {error ? <Error mensaje=\"Agrega un término de búsqueda\" /> : null}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Formulario;\r\n","import React from \"react\";\r\n\r\nconst Imagen = ({ imagen }) => {\r\n  //extraer las variables\r\n  const { largeImageURL, likes, previewURL, tags, views } = imagen;\r\n  return (\r\n    <div className=\"col-12 col-sm-6 col-md-4 col-lg-3 mb-5\">\r\n      <div className=\"card\">\r\n        <img src={previewURL} alt={tags} className=\"card-img-top\" />\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <p className=\"card-text\">{likes} Me gusta</p>\r\n        <p className=\"card-text\">{views} Vistas</p>\r\n      </div>\r\n      <div className=\"card-footer\">\r\n        <a\r\n          href={largeImageURL}\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"btn btn-primary btn-block\"\r\n        >\r\n          Ver imagen\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Imagen;\r\n","import React from 'react';\r\nimport Imagen from './Imagen'\r\n\r\nconst ListadoImagenes = ({imagenes}) => {\r\n    return ( \r\n        <div className=\"col-12 p-5 row\">\r\n            {imagenes.map(imagen => (\r\n                <Imagen key={imagen.id} imagen={imagen} />\r\n            ) )}\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default ListadoImagenes;","import React, { useState, useEffect } from \"react\";\r\nimport Formulario from \"./components/Formulario\";\r\nimport ListadoImagenes from \"./components/ListadoImagenes\";\r\n\r\nfunction App() {\r\n  //state de la app\r\n  const [busqueda, guardarBusqueda] = useState(\"\");\r\n  const [imagenes, guardarImagenes] = useState([]);\r\n  const [paginaActual, guardarPaginaActual] = useState(1);\r\n  const [totalPaginas, guardarTotalPaginas] = useState(1);\r\n\r\n  useEffect(() => {\r\n    const consultarAPI = async () => {\r\n      if (busqueda === \"\") return;\r\n      const imagenesPorPagina = 30;\r\n      const key = \"16620229-1bc5ad5bfba2a2c2c0f76b45a\";\r\n      const URL = `https://pixabay.com/api/?key=${key}&q=${busqueda}&per_page=${imagenesPorPagina}&page=${paginaActual}`;\r\n      const respuesta = await fetch(URL);\r\n      const resultado = await respuesta.json();\r\n      console.log(resultado)\r\n\r\n      guardarImagenes(resultado.hits);\r\n\r\n      //calcular el total de paginas\r\n      const TotalPaginas = Math.ceil(resultado.totalHits / imagenesPorPagina);\r\n      guardarTotalPaginas(TotalPaginas);\r\n\r\n      //mover la pantalla hacia arriba\r\n      const jumbotron = document.querySelector(\".jumbotron\");\r\n      jumbotron.scrollIntoView({ behavior: \"smooth\" });\r\n    };\r\n    consultarAPI();\r\n  }, [busqueda, paginaActual]);\r\n\r\n  //definir la pagina anterior\r\n  const paginaAnterior = () => {\r\n    const nuevaPaginaActual = paginaActual - 1;\r\n    if (nuevaPaginaActual === 0) return;\r\n    guardarPaginaActual(nuevaPaginaActual);\r\n  };\r\n  //definir la pagina siguiente\r\n  const paginaSiguiente = () => {\r\n    const nuevaPaginaActual = paginaActual + 1;\r\n    if (nuevaPaginaActual > totalPaginas) return;\r\n    guardarPaginaActual(nuevaPaginaActual);\r\n  };\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"jumbotron bg-info\">\r\n        <p className=\"lead text-center text-warning\">Buscador de imágenes</p>\r\n        <Formulario guardarBusqueda={guardarBusqueda} />\r\n      </div>\r\n      <div className=\"row justify-content-center\">\r\n        <ListadoImagenes imagenes={imagenes} />\r\n        {paginaActual === 1 ? null : (\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-info mr-1\"\r\n            onClick={paginaAnterior}\r\n          >\r\n            Anterior &laquo;\r\n          </button>\r\n        )}\r\n        {paginaActual === totalPaginas ? null : (\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-info\"\r\n            onClick={paginaSiguiente}\r\n          >\r\n            Siguiente &raquo;\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}